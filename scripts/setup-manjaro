#!/usr/bin/env bash

# Versão experimental (em desenvolvimento)
# Objetivo:
#  - Configuração automatizada do Manjaro
#  - Remoção automatizada de pacotes Manjaro não utilizados


# CONFIGURAÇOES

# TODO: Verificar se essa configução é específica do Gnome

echo "> Configuracões Manjaro"

### Níveis da bateria # /etc/UPower/UPower.conf

sudo cp /etc/UPower/UPower.conf /etc/UPower/UPower-BKP.conf

sudo sed -i 's/^PercentageLow=20/PercentageLow=6/' /etc/UPower/UPower.conf
sudo sed -i 's/^PercentageAction=2/PercentageAction=4/' /etc/UPower/UPower.conf
sudo sed -i 's/^CriticalPowerAction=HybridSleep/CriticalPowerAction=Hibernate/' /etc/UPower/UPower.conf

sudo systemctl restart upower.service

echo ">> Níveis de bateria configurados"


# PACOTES

# TODO: Verificar se essa configução é específica do Gnome

## Desinstalar pacotes que vem na instalacao do Manjaro e não utlizo
echo "> Remoção de pacotes Manjaro"

## !!! Revisar quais pacots serão removidos de forma automatizada

  # lollypop totem snapshot fragments yelp deja-dup collision endeavour manjaro-hello
  # gnome-maps gnome-weather gnome-layout-swithcer gnome-tour gnome-clocks gnome-contacts

  # TODO: Verificar uma maneira de não dar erro se executar mais de uma vez
  #sudo pacman -Rsun deja-dup --noconfirm

## Versão testada

sudo pacman -Rsun thunderbird gnome-maps gnome-weather --noconfirm
